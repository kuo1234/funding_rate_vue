{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\nimport { io } from 'socket.io-client';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const fundingRates = ref([]);\n    const sortKey = ref('symbol');\n    const sortDesc = ref(false);\n    const filterThreshold = ref(0.02);\n    const tempThreshold = ref(0.02);\n    const lastUpdateTime = ref('');\n    const lastRefreshTime = ref('');\n    let socket = null;\n    function rateClass(rate) {\n      if (rate === null || rate === undefined) return '';\n      return Math.abs(rate) > 0.5 ? 'high' : Math.abs(rate) > 0.2 ? 'mid' : '';\n    }\n    function formatRate(rate) {\n      return rate !== null && rate !== undefined ? rate.toFixed(4) + '%' : '';\n    }\n    function formatSymbol(symbol) {\n      if (!symbol) return '';\n      // 後端已經統一處理了符號標準化，直接顯示即可\n      return symbol.toUpperCase();\n    }\n    function formatDateTime() {\n      const now = new Date();\n      const year = now.getFullYear();\n      const month = String(now.getMonth() + 1).padStart(2, '0');\n      const day = String(now.getDate()).padStart(2, '0');\n      const hours = String(now.getHours()).padStart(2, '0');\n      const minutes = String(now.getMinutes()).padStart(2, '0');\n      const seconds = String(now.getSeconds()).padStart(2, '0');\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    }\n    async function confirmThreshold() {\n      await updateThreshold();\n    }\n    async function updateThreshold() {\n      try {\n        const response = await fetch('http://localhost:5000/api/filter_threshold', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            threshold: tempThreshold.value\n          })\n        });\n        const result = await response.json();\n        if (result.success) {\n          filterThreshold.value = result.threshold;\n          console.log(`閾值已更新為: ${result.threshold}%`);\n          // 重新獲取數據以應用新的過濾條件\n          await fetchInitialData();\n        } else {\n          console.error('更新閾值失敗:', result.error);\n          // 重置臨時閾值\n          tempThreshold.value = filterThreshold.value;\n        }\n      } catch (error) {\n        console.error('更新閾值錯誤:', error);\n        tempThreshold.value = filterThreshold.value;\n      }\n    }\n    async function refreshData() {\n      try {\n        await fetchInitialData();\n        lastRefreshTime.value = formatDateTime();\n        console.log('數據已重新整理');\n      } catch (error) {\n        console.error('重新整理數據失敗:', error);\n      }\n    }\n    async function fetchCurrentThreshold() {\n      try {\n        const response = await fetch('http://localhost:5000/api/filter_threshold');\n        const result = await response.json();\n        filterThreshold.value = result.threshold;\n        tempThreshold.value = result.threshold;\n      } catch (error) {\n        console.error('獲取閾值錯誤:', error);\n      }\n    }\n    function setSort(key) {\n      if (sortKey.value === key) {\n        sortDesc.value = !sortDesc.value;\n      } else {\n        sortKey.value = key;\n        sortDesc.value = false;\n      }\n    }\n    const sortedRates = computed(() => {\n      const arr = [...fundingRates.value];\n      arr.sort((a, b) => {\n        let v1 = a[sortKey.value];\n        let v2 = b[sortKey.value];\n        if (sortKey.value === 'symbol') {\n          v1 = v1?.toUpperCase() || '';\n          v2 = v2?.toUpperCase() || '';\n          return sortDesc.value ? v2.localeCompare(v1) : v1.localeCompare(v2);\n        } else {\n          v1 = v1 ?? -Infinity;\n          v2 = v2 ?? -Infinity;\n          return sortDesc.value ? v2 - v1 : v1 - v2;\n        }\n      });\n      return arr;\n    });\n    async function fetchInitialData() {\n      const res = await fetch('http://localhost:5000/api/funding_rates');\n      const data = await res.json();\n      fundingRates.value = data;\n    }\n    onMounted(() => {\n      fetchInitialData();\n      fetchCurrentThreshold();\n      socket = io('http://localhost:5000');\n\n      // 處理資金費率更新\n      socket.on('funding_rate_update', update => {\n        const idx = fundingRates.value.findIndex(i => i.symbol === update.symbol);\n        if (idx >= 0) {\n          // 更新現有項目\n          fundingRates.value[idx][update.exchange.toLowerCase()] = update.rate;\n        } else {\n          // 創建新項目\n          const newItem = {\n            symbol: update.symbol,\n            btcc: null,\n            mexc: null,\n            bingx: null\n          };\n          newItem[update.exchange.toLowerCase()] = update.rate;\n          fundingRates.value.push(newItem);\n        }\n        // 更新最新更新時間\n        lastUpdateTime.value = formatDateTime();\n      });\n\n      // 處理資金費率刪除\n      socket.on('funding_rate_delete', deleteInfo => {\n        const idx = fundingRates.value.findIndex(i => i.symbol === deleteInfo.symbol);\n        if (idx >= 0) {\n          // 將對應交易所的費率設為 null\n          fundingRates.value[idx][deleteInfo.exchange.toLowerCase()] = null;\n\n          // 如果所有交易所的費率都為 null，則刪除整個項目\n          const item = fundingRates.value[idx];\n          if (item.btcc === null && item.mexc === null && item.bingx === null) {\n            fundingRates.value.splice(idx, 1);\n          }\n        }\n      });\n\n      // 處理閾值更新通知\n      socket.on('threshold_updated', data => {\n        filterThreshold.value = data.threshold;\n        tempThreshold.value = data.threshold;\n        console.log(`閾值已更新為: ${data.threshold}%`);\n        // 重新獲取數據以應用新的過濾條件\n        fetchInitialData();\n      });\n    });\n    onUnmounted(() => {\n      if (socket) socket.disconnect();\n    });\n    const __returned__ = {\n      fundingRates,\n      sortKey,\n      sortDesc,\n      filterThreshold,\n      tempThreshold,\n      lastUpdateTime,\n      lastRefreshTime,\n      get socket() {\n        return socket;\n      },\n      set socket(v) {\n        socket = v;\n      },\n      rateClass,\n      formatRate,\n      formatSymbol,\n      formatDateTime,\n      confirmThreshold,\n      updateThreshold,\n      refreshData,\n      fetchCurrentThreshold,\n      setSort,\n      sortedRates,\n      fetchInitialData,\n      ref,\n      computed,\n      onMounted,\n      onUnmounted,\n      get io() {\n        return io;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","io","fundingRates","sortKey","sortDesc","filterThreshold","tempThreshold","lastUpdateTime","lastRefreshTime","socket","rateClass","rate","undefined","Math","abs","formatRate","toFixed","formatSymbol","symbol","toUpperCase","formatDateTime","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","confirmThreshold","updateThreshold","response","fetch","method","headers","body","JSON","stringify","threshold","value","result","json","success","console","log","fetchInitialData","error","refreshData","fetchCurrentThreshold","setSort","key","sortedRates","arr","sort","a","b","v1","v2","localeCompare","Infinity","res","data","on","update","idx","findIndex","i","exchange","toLowerCase","newItem","btcc","mexc","bingx","push","deleteInfo","item","splice","disconnect"],"sources":["C:/Users/kuo/Desktop/btcc/funding_rate_vue/src/App.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2>Funding Rate Board</h2>\r\n    \r\n    <!-- 設定區域 -->\r\n    <div class=\"settings-panel\">\r\n      <div class=\"setting-item\">\r\n        <label for=\"threshold\">過濾閾值 (%):</label>\r\n        <input \r\n          type=\"number\" \r\n          id=\"threshold\" \r\n          v-model=\"tempThreshold\" \r\n          step=\"0.001\" \r\n          min=\"0.001\" \r\n          max=\"10\"\r\n          class=\"threshold-input\"\r\n          @keyup.enter=\"confirmThreshold\"\r\n        />\r\n        <button @click=\"confirmThreshold\" class=\"confirm-btn\">確認</button>\r\n        <button @click=\"refreshData\" class=\"refresh-btn\">重新整理</button>\r\n        <span class=\"threshold-info\">目前顯示閾值: {{ filterThreshold }}%</span>\r\n      </div>\r\n      \r\n      <!-- 時間資訊區域 -->\r\n      <div class=\"time-info\">\r\n        <div class=\"time-item\">\r\n          <span class=\"time-label\">最新更新時間:</span>\r\n          <span class=\"time-value\">{{ lastUpdateTime || '尚未更新' }}</span>\r\n        </div>\r\n        <div class=\"time-item\">\r\n          <span class=\"time-label\">重新整理時間:</span>\r\n          <span class=\"time-value\">{{ lastRefreshTime || '尚未重新整理' }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th @click=\"setSort('symbol')\" style=\"cursor:pointer\">\r\n            Symbol <span v-if=\"sortKey==='symbol'\">{{ sortDesc ? '↓' : '↑' }}</span>\r\n          </th>\r\n          <th @click=\"setSort('btcc')\" style=\"cursor:pointer\">\r\n            BTCC <span v-if=\"sortKey==='btcc'\">{{ sortDesc ? '↓' : '↑' }}</span>\r\n          </th>\r\n          <th @click=\"setSort('mexc')\" style=\"cursor:pointer\">\r\n            MEXC <span v-if=\"sortKey==='mexc'\">{{ sortDesc ? '↓' : '↑' }}</span>\r\n          </th>\r\n          <th @click=\"setSort('bingx')\" style=\"cursor:pointer\">\r\n            BINGX <span v-if=\"sortKey==='bingx'\">{{ sortDesc ? '↓' : '↑' }}</span>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in sortedRates\" :key=\"item.symbol\">\r\n          <td>{{ formatSymbol(item.symbol) }}</td>\r\n          <td :class=\"rateClass(item.btcc)\">{{ formatRate(item.btcc) }}</td>\r\n          <td :class=\"rateClass(item.mexc)\">{{ formatRate(item.mexc) }}</td>\r\n          <td :class=\"rateClass(item.bingx)\">{{ formatRate(item.bingx) }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\r\nimport { io } from 'socket.io-client'\r\n\r\nconst fundingRates = ref([])\r\nconst sortKey = ref('symbol')\r\nconst sortDesc = ref(false)\r\nconst filterThreshold = ref(0.02)\r\nconst tempThreshold = ref(0.02)\r\nconst lastUpdateTime = ref('')\r\nconst lastRefreshTime = ref('')\r\nlet socket = null\r\n\r\nfunction rateClass(rate) {\r\n  if (rate === null || rate === undefined) return ''\r\n  return Math.abs(rate) > 0.5 ? 'high' : Math.abs(rate) > 0.2 ? 'mid' : ''\r\n}\r\n\r\nfunction formatRate(rate) {\r\n  return rate !== null && rate !== undefined ? rate.toFixed(4) + '%' : ''\r\n}\r\n\r\nfunction formatSymbol(symbol) {\r\n  if (!symbol) return ''\r\n  // 後端已經統一處理了符號標準化，直接顯示即可\r\n  return symbol.toUpperCase()\r\n}\r\n\r\nfunction formatDateTime() {\r\n  const now = new Date()\r\n  const year = now.getFullYear()\r\n  const month = String(now.getMonth() + 1).padStart(2, '0')\r\n  const day = String(now.getDate()).padStart(2, '0')\r\n  const hours = String(now.getHours()).padStart(2, '0')\r\n  const minutes = String(now.getMinutes()).padStart(2, '0')\r\n  const seconds = String(now.getSeconds()).padStart(2, '0')\r\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\r\n}\r\n\r\nasync function confirmThreshold() {\r\n  await updateThreshold()\r\n}\r\n\r\nasync function updateThreshold() {\r\n  try {\r\n    const response = await fetch('http://localhost:5000/api/filter_threshold', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ threshold: tempThreshold.value })\r\n    })\r\n    \r\n    const result = await response.json()\r\n    if (result.success) {\r\n      filterThreshold.value = result.threshold\r\n      console.log(`閾值已更新為: ${result.threshold}%`)\r\n      // 重新獲取數據以應用新的過濾條件\r\n      await fetchInitialData()\r\n    } else {\r\n      console.error('更新閾值失敗:', result.error)\r\n      // 重置臨時閾值\r\n      tempThreshold.value = filterThreshold.value\r\n    }\r\n  } catch (error) {\r\n    console.error('更新閾值錯誤:', error)\r\n    tempThreshold.value = filterThreshold.value\r\n  }\r\n}\r\n\r\nasync function refreshData() {\r\n  try {\r\n    await fetchInitialData()\r\n    lastRefreshTime.value = formatDateTime()\r\n    console.log('數據已重新整理')\r\n  } catch (error) {\r\n    console.error('重新整理數據失敗:', error)\r\n  }\r\n}\r\n\r\nasync function fetchCurrentThreshold() {\r\n  try {\r\n    const response = await fetch('http://localhost:5000/api/filter_threshold')\r\n    const result = await response.json()\r\n    filterThreshold.value = result.threshold\r\n    tempThreshold.value = result.threshold\r\n  } catch (error) {\r\n    console.error('獲取閾值錯誤:', error)\r\n  }\r\n}\r\n\r\nfunction setSort(key) {\r\n  if (sortKey.value === key) {\r\n    sortDesc.value = !sortDesc.value\r\n  } else {\r\n    sortKey.value = key\r\n    sortDesc.value = false\r\n  }\r\n}\r\n\r\nconst sortedRates = computed(() => {\r\n  const arr = [...fundingRates.value]\r\n  arr.sort((a, b) => {\r\n    let v1 = a[sortKey.value]\r\n    let v2 = b[sortKey.value]\r\n    if (sortKey.value === 'symbol') {\r\n      v1 = v1?.toUpperCase() || ''\r\n      v2 = v2?.toUpperCase() || ''\r\n      return sortDesc.value ? v2.localeCompare(v1) : v1.localeCompare(v2)\r\n    } else {\r\n      v1 = v1 ?? -Infinity\r\n      v2 = v2 ?? -Infinity\r\n      return sortDesc.value ? v2 - v1 : v1 - v2\r\n    }\r\n  })\r\n  return arr\r\n})\r\n\r\nasync function fetchInitialData() {\r\n  const res = await fetch('http://localhost:5000/api/funding_rates')\r\n  const data = await res.json()\r\n  fundingRates.value = data\r\n}\r\n\r\nonMounted(() => {\r\n  fetchInitialData()\r\n  fetchCurrentThreshold()\r\n  \r\n  socket = io('http://localhost:5000')\r\n  \r\n  // 處理資金費率更新\r\n  socket.on('funding_rate_update', (update) => {\r\n    const idx = fundingRates.value.findIndex(i => i.symbol === update.symbol)\r\n    if (idx >= 0) {\r\n      // 更新現有項目\r\n      fundingRates.value[idx][update.exchange.toLowerCase()] = update.rate\r\n    } else {\r\n      // 創建新項目\r\n      const newItem = {\r\n        symbol: update.symbol,\r\n        btcc: null,\r\n        mexc: null,\r\n        bingx: null\r\n      }\r\n      newItem[update.exchange.toLowerCase()] = update.rate\r\n      fundingRates.value.push(newItem)\r\n    }\r\n    // 更新最新更新時間\r\n    lastUpdateTime.value = formatDateTime()\r\n  })\r\n  \r\n  // 處理資金費率刪除\r\n  socket.on('funding_rate_delete', (deleteInfo) => {\r\n    const idx = fundingRates.value.findIndex(i => i.symbol === deleteInfo.symbol)\r\n    if (idx >= 0) {\r\n      // 將對應交易所的費率設為 null\r\n      fundingRates.value[idx][deleteInfo.exchange.toLowerCase()] = null\r\n      \r\n      // 如果所有交易所的費率都為 null，則刪除整個項目\r\n      const item = fundingRates.value[idx]\r\n      if (item.btcc === null && item.mexc === null && item.bingx === null) {\r\n        fundingRates.value.splice(idx, 1)\r\n      }\r\n    }\r\n  })\r\n  \r\n  // 處理閾值更新通知\r\n  socket.on('threshold_updated', (data) => {\r\n    filterThreshold.value = data.threshold\r\n    tempThreshold.value = data.threshold\r\n    console.log(`閾值已更新為: ${data.threshold}%`)\r\n    // 重新獲取數據以應用新的過濾條件\r\n    fetchInitialData()\r\n  })\r\n})\r\n\r\nonUnmounted(() => {\r\n  if (socket) socket.disconnect()\r\n})\r\n</script>\r\n\r\n<style>\r\nbody { background: #181818; color: #eee; font-family: 'Segoe UI', Arial, sans-serif; }\r\n.container { max-width: 900px; margin: 40px auto; background: #222; padding: 24px; border-radius: 12px; box-shadow: 0 2px 16px #0008; }\r\nh2 { text-align: center; margin-bottom: 24px; color: #00bfff; }\r\n\r\n.settings-panel { \r\n  background: #333; \r\n  padding: 16px; \r\n  border-radius: 8px; \r\n  margin-bottom: 24px; \r\n  border: 1px solid #444;\r\n}\r\n\r\n.setting-item { \r\n  display: flex; \r\n  align-items: center; \r\n  gap: 12px; \r\n  flex-wrap: wrap;\r\n}\r\n\r\n.setting-item label { \r\n  color: #00bfff; \r\n  font-weight: bold; \r\n  min-width: 120px;\r\n}\r\n\r\n.threshold-input { \r\n  background: #444; \r\n  border: 1px solid #555; \r\n  color: #eee; \r\n  padding: 8px 12px; \r\n  border-radius: 4px; \r\n  width: 120px;\r\n  font-size: 14px;\r\n}\r\n\r\n.threshold-input:focus { \r\n  outline: none; \r\n  border-color: #00bfff; \r\n  box-shadow: 0 0 0 2px rgba(0, 191, 255, 0.2);\r\n}\r\n\r\n.threshold-info { \r\n  color: #999; \r\n  font-size: 12px; \r\n  font-style: italic;\r\n  margin-left: 8px;\r\n}\r\n\r\n.confirm-btn, .refresh-btn {\r\n  background: #00bfff;\r\n  border: none;\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  margin-left: 8px;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background: #0099cc;\r\n}\r\n\r\n.refresh-btn {\r\n  background: #28a745;\r\n}\r\n\r\n.refresh-btn:hover {\r\n  background: #218838;\r\n}\r\n\r\ntable { border-collapse: collapse; width: 100%; background: #222; }\r\nth, td { border: 1px solid #333; padding: 12px 8px; text-align: center; }\r\nth { background: #333; color: #fff; font-size: 1.1em; }\r\ntr:nth-child(even) { background: #282828; }\r\n.high { color: #e74c3c; font-weight: bold; background: #2c0a0a; }\r\n.mid { color: #f39c12; font-weight: bold; background: #2c1a0a; }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}